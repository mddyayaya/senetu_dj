<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>新中国成立70周年</title>
		<link rel="stylesheet" type="text/css" href="css/seventy.css"/>
		<link rel="stylesheet" type="text/css" href="lib/font-awesome/css/font-awesome.css"/>
		<link rel="stylesheet" type="text/css" href="css/selectbox.css"/>
	</head>
	<body>
		<!-- 顶部 -->
		<div class="top-nav">
				<div class="control">
					<a href="javascript:history.back(-1)"><i class="fa fa-mail-reply" aria-hidden="true"></i>返回&nbsp;&nbsp;|&nbsp;</a>
					<a href="javascript:window.location='app.html';"><i class="fa fa-home" aria-hidden="true"></i>首页</a>
				</div>
		</div>
		<!-- 主体 -->
		<div class="content" id="app" v-cloak>
			<div class="content1" id="content1">
				<div class="part">
					<div class="title">
						<strong>{{list1[0].type}}</strong>
					</div>
					<div class="paper">
						<div class="left" @click="showDetail(list1[0].id,list1[0].bs_id)">
							<img :src="list1[0].sz_img" />
						</div>
						<div class="center">
							<ul>
								<li v-for="(item,index) of list1" v-if="index>=1" @click="showDetail(item.id,item.bs_id)"><a>{{item.title}}</a></li>
							</ul>
						</div>
						<div class="right tendto-more">
							<a @click="toMore(list1[0].ftid)" >更多资源</a>
						</div>
					</div>
				</div>
				<div class="part">
					<div class="title">
						<strong>{{list2[0].type}}</strong>
					</div>
					<div class="paper">
						<div class="left" @click="showDetail(list2[0].id,list2[0].bs_id)">
							<img :src="list2[0].sz_img" />
						</div>
						<div class="center">
							<ul>
								<li v-for="(item,index) of list2" v-if="index>=1" @click="showDetail(item.id,item.bs_id)"><a>{{item.title}}</a></li>
							</ul>
						</div>
						<div class="right tendto-more">
							<a @click="toMore(list2[0].ftid)" >更多资源</a>
						</div>
					</div>
				</div>
			</div>
			<div class="center-img">
				<img src="statics/images/center-img.png" />
			</div>
			<div class="content2">
				<div class="part">
					<div class="title">
						<strong>{{list3[0].type}}</strong>
						<span class="more tendto-more"><a @click="toMore(list3[0].ftid)">更多></a></span>
					</div>
					<div class="paper2">
						<div class="content-img content-img1" v-for="(item,index) in list3" v-if="index<=1" @click="showDetail(item.id,item.bs_id)">
							<img :src="item.sz_img"/>
							<span class="tipss">{{item.title}}</span>
						</div>
					</div>
				</div>
				<div class="part">
					<div class="title">
						<strong>{{list4[0].type}}</strong>
						<span class="more tendto-more"><a @click="toMore(list4[0].ftid)">更多></a></span>
					</div>
					<div class="paper2">
						<div class="content-img content-img1" v-for="(item,index) in list4" v-if="index<=1" @click="showDetail(item.id,item.bs_id)">
							<img :src="item.sz_img"/>
							<span class="tipss">{{item.title}}</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="lib/jquery/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/ajax.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/vue.min.js" type="text/javascript" charset="utf-8"></script>
	<script>
		var app = new Vue({
			el:"#app",
			data:{
				// 资源筛选框
				selectBox:false,
				// get数据传参
				getSoucre:{
					template:15,
					ft_id:1,
					bsid:"",
					kw:""
				},
				// 
				list1:[],
				list2:[],
				list3:[],
				list4:[]
			},
			methods:{
				// 资源包
				dataBag(){
					var that = this;
					that.list1 = [];
					that.list2 = [];
					that.list3 = [];
					that.list4 = [];
					postData("special",that.getSoucre,function(res){
						if(res.code == 200){
							that.list1 = res.data[0];
							that.list2 = res.data[1];
							that.list3 = res.data[2];
							that.list4 = res.data[3];
							console.log(that.list4)
						}
					})
				},
				// 更多资源
				toMore(ftid){
					var that = this;
					window.location.href = 'seventyItem.html?ftid='+ftid;
				},
				// 资源详情
				showDetail(id,bsid){
					showDetail(bsid,id,3,1)
				}
			},
			mounted() {
				var that = this;
			},
			created() {
				var that = this;
				that.dataBag();
				// 回车键搜索
				$(document).keydown(function(event){
					if(event.keyCode == 13){
						that.getSoucre.kw = that.searchBox;
						that.dataBag();
					}
				})
			}
		})
	</script>
</html>
