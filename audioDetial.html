<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>音频详情</title>		
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<link rel="stylesheet" type="text/css" href="lib/font-awesome/css/font-awesome.css"/>
	</head>
	<body style="background: url(statics/images/audioBg.jpg) no-repeat;
				 background-size: 100% 100%;">
		<div id="app" v-cloak>
			<!-- 进入页面 -->
			<div class="topNavBar" style="background: none;box-shadow: none;margin-top: 2vh;">
				<div class="control">
					<a style="color:#bb0000;font-size:2vh" href="javascript:history.back(-1)"><i class="fa fa-mail-reply" aria-hidden="true"></i>返回&nbsp;&nbsp;|&nbsp;</a>
					<a style="color:#bb0000;font-size:2vh" href="javascript:window.location='app.html';"><i class="fa fa-home" aria-hidden="true"></i>首页</a>
				</div>
			</div>
			<div class="mainAudio">
				<div class="audioTit">{{title}}</div>
				<div class="audioSub">{{addtime}}&nbsp;&nbsp;&nbsp;&nbsp;来源：人民网</div>
				<div class="audioBox">
					<div class="audioContent">
						<div class="audioCont">{{content}}</div>
						<div class="audioData">
							<audio :src="audioSrc" controls autoplay="autoplay" controlslist="nodownload">
								当前浏览器不支持audio
							</audio>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="lib/jquery/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/setCookie.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/ajax.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/vue.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			window.onload = function(){
				var app = new Vue({
					el:"#app",
					data:{
						id:"",
						title:"",
						content:"",
						audioSrc:"",
						addtime:"",
						dataImg:"statics/images/loading.gif",
						data:{
							id:"",
							flag:""
						}
					},
					methods:{
						// 资源详情
						detail(){
							var that = this;
							postData("resouceDetail",that.data,function(res){
								if(res.code == 200){
									that.title = res.data.resouce[0].title;
									that.content = res.data.content;
									that.audioSrc = res.data.resouce[0].au_url;
									that.addtime = res.data.addtime;
								}
							})
						},
					},
					created() {
						var that = this;
						that.data.id = getUrlParam('id');
						that.data.flag = getUrlParam('flag');
						that.detail();
					}
				})
			}
		</script>
	</body>
</html>
