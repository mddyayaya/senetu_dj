<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>十九届六中全会</title>
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">
		<meta http-equiv="Cache-Control" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" /> <meta http-equiv="Pragma" content="no-cache" /> <meta http-equiv="Expires" content="0" />
		<link rel="stylesheet" type="text/css" href="css/sswzt.css"/>
		<link rel="stylesheet" type="text/css" href="lib/font-awesome/css/font-awesome.css"/>
		<link rel="stylesheet" type="text/css" href="lib/layui/css/layui.css"/>
		<link rel="stylesheet" type="text/css" href="css/selectbox.css"/>
	</head>
	<body>
		<!-- 顶部 -->
		<div class="topnav">
			<div class="control">
				<a href="javascript:history.back(-1)"><i class="fa fa-mail-reply" aria-hidden="true"></i>返回&nbsp;&nbsp;|&nbsp;</a>
				<a href="javascript:window.location='app.html';"><i class="fa fa-home" aria-hidden="true"></i>首页</a>
			</div>
		</div>
		<div id="app" v-cloak>
			<!-- 遮罩 -->
			<div class="blackMark" onclick="closeBag()"></div>
			<div class="centerNav">
				<div class="leftNav" @click="selectBar(210)">
					<div class="star" v-show="selectBarIndex == 210">
						<span></span>
						<span></span>
					</div>
					<img src="statics/images/wzqh.png" >
				</div>
				<div class="rightNav" @click="selectBar(33)">
					<div class="star" v-show="selectBarIndex == 33">
						<span></span>
						<span></span>
					</div>
					<img src="statics/images/gh.png" >
				</div>
			</div>
			<!-- 主体 -->
			<div class="mainData">
				<!-- 此处循环 -->
				<div class="dataItem" 
					v-if="item.img"
					v-for="item in dataBagList" @click="showDetail(item.img,16,item.title,item.ftid,item.id)">
					<img :src="item.img" >
				</div>
				<div class="dataItem main-body-item" 
					v-if="!item.img"
					v-for="item in dataBagList" @click="showDetails(item.bs_id,item.id)">
					<img :src="item.sz_img" >
					<p class="tips">{{changeSourceTypes(item.bs_id)}}</p>
				</div>
			</div>
			<!-- 展开资源包 -->
			<div class="resource-packages">
				<div class="close-icon" onclick="closeBag()">×</div>
				<div class="select-content">
				<div class="name1">第一批</div>
					<div class="select-content-item">
						<div class="main-body-item body-item1" id="PPT1"><a><img src="statics/images/index1.jpg"/></a><a class="tips">PPT</a><span>习近平新时代中国特色社会主义理论体系</span></div>
					</div>
				</div>
			</div>
			<div class="null" v-show="dataBagList.length == 0">暂无数据</div>
		</div>
		<script src="lib/jquery/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/ajax.js" type="text/javascript" charset="utf-8"></script>
		<script src="lib/layui/layui.js" type="text/javascript" charset="utf-8"></script>
		<script src="lib/swiper/js/swiper.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/vue.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			window.onload = function(){
				var app = new Vue({
					el:"#app",
					data:{
						// get数据传参
						getSoucre:{
							template:16,
							ft_id:210,
						},
						// 资源包
						bag:false,
						// 选中导航
						selectBarIndex:210,
						// 数据包
						dataBagList:[]
					},
					methods:{
						// 打开资源包
						openBag(){
							var that = this;
							that.bag = true;
						},
						// 导航点击
						selectBar(index){
							var that = this;
							that.selectBarIndex = index;
							that.getSoucre.ft_id = index;
							that.dataBag();
						},
						changeSourceTypes(bsid){
							if(bsid == 1){
								bsid = "PPT"
							}else if(bsid == 2){
								bsid = "图文"
							}else if(bsid == 3){
								bsid = "视频"
							}else if(bsid == 4){
								bsid = "音频"
							}else if(bsid == 8){
								bsid = "PDF"
							}
							return bsid
						},
						// 资源包
						dataBag(){
							var that = this;
							that.dataBagList = [];
							postData("special",that.getSoucre,function(res){
								if(res.code == 200){
									if(res.data != null){
										that.dataBagList = res.data;
									}
								}
							})
						},
						showDetails(bsid,id){
							showDetail(bsid,id,3,1)
						},
						// 打开资源包
						showDetail(img,template,title,ft_id,rid){
							if(img){
								openBag(template,title,ft_id,rid)
							}else{
								
							}
						},
					},
					created() {
						var that = this;
						that.dataBag();
					}
				})
			}
		</script>
	</body>
</html>
