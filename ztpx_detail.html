<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
        <meta http-equiv="page-Enter" content="revealTrans(Duration=3.0,Transition=23)">
		<link rel="stylesheet" type="text/css" href="lib/layui/css/layui.css"/>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<link rel="stylesheet" type="text/css" href="lib/font-awesome/css/font-awesome.css"/>
		<script src="lib/jquery/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/setCookie.js" type="text/javascript" charset="utf-8"></script>
		<script src="lib/layui/layui.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/ajax.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/vue.min.js" type="text/javascript" charset="utf-8"></script>
		<title>专题培训详情</title>
		<style type="text/css">
			.mainBody{
				overflow-y: scroll;
			}
			.contList{
				height: auto;
			}
		</style>
	</head>
	<body>
		<div class="topNavBar" style="color: #FFFAED !important;height: 5vh;line-height: 5vh;">
			<span onclick="location.href='dyjy.html'">返回</span>
			 &nbsp;| &nbsp;
			<a style="color: #FFFAED !important;" href="app.html">首页</a>
			<div class="detialTit">
			</div>
		</div>
		<div class="ztpx_wrap" id="app" v-cloak>
			<div class="ztpx_main">
				<div class="ztpx_main_top">
					<div class="ztpx_main_top_left">
						<img :src="sz_img" >
					</div>
					<div class="ztpx_main_top_right">
						<div>
							<div class="ztpx_main_top_right_title">{{title}}</div>
							<div class="ztpx_main_top_right_sub" v-if="type!='dj'"><span>发布时间：</span>{{pub_time}}</div>
							<!-- <div class="ztpx_main_top_right_sub"><span>学习课时：</span>{{hour}}课时</div> -->
							<div class="ztpx_main_top_right_sub"><span>学习课程：</span>{{classs}}节</div>
						</div>
					</div>
				</div>
				<div class="ztpx_center_bar">
					<div class="ztpx_center_bar_item ztpx_center_bar_select">课程({{classs}})</div>
				</div>
				<div class="ztpx_main_bottom">
					<div class="ztpx_main_bottom_item1">
						<div class="lists">
							<div class="list_item" v-if="classList.length>0" v-for="item in classList">
								<div class="ztpx_main_img">
									<img :src="item.file_img||item.sz_img" style="background: #DDDDDD;">
								</div>
								<div class="ztpx_main_word">
									<div class="ztpx_main_word_top">{{item.file_title||item.title}}</div>
									<div class="ztpx_main_word_bottom">
										<span></span>
										<span @click="goDetail(item.bs_id,item.id)">学习</span>
									</div>
								</div>
							</div>
							<div  v-if="classList.length==0" style="color: #BB0000;font-size: 2vh;text-align: center;margin-top: 5vh;font-weight: bold;width: 100%;">暂无数据</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			var app = new Vue({
				el:"#app",
				data(){
					return{
						selectId:1,
						sid:"",
						title:"加载中",
						pub_time:"加载中",
						classs:"0",
						hour:"",
						content:"加载中",
						sz_img:"",
						classList:[]
					}
				},
				methods:{
					datalist(){
						var that = this;
						var url="",data={}
						if(that.type == "dj"){
							url='ztpxDetail';
							data={id:that.sid,user_id:user.user_id,flag:user.flag}
						}else{
							url='myColumnResouce';
							data={sid:that.sid}
						}
						postData(url,data,function(res){
							if(res.code == 200){
								// if(res.data != null){
									that.title = res.content.title;
									that.content = res.content.introduct;
									that.sz_img = res.content.sz_img;
									that.pub_time = res.content.k_time;
									that.classs = res.data!=null?res.data.length:0;
									that.classList = res.data!=null?res.data:[];
								// }
							}
						})
					},
					// 开始学习
					goDetail(bsid,id){
						if(this.type=='dj'){
							showDetail(bsid,id,3,1)
						}else{
							showDetail(bsid,id,3,2)
						}
					}
				},
				mounted() {
					var that = this;
					that.sid = getUrlParam("sid");
					that.type = getUrlParam("type");
					that.datalist();
				},
				created() {
					
				}
			})
		</script>
	</body>
</html>
