<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>图文详情</title>		
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<link rel="stylesheet" type="text/css" href="css/xszc.css"/>
		<link rel="stylesheet" type="text/css" href="lib/font-awesome/css/font-awesome.css"/>
		<link rel="stylesheet" type="text/css" href="lib/swiper/css/swiper.min.css"/>
		<style type="text/css">
			#app{
				height: 100%;
				width: 100%;
			}
			.swiper-pagination-bullet {
			    width: 5vh;
			    height: 5vh;
			    line-height: 5vh;
			    display: inline-block;
			    border-radius: 100%;
			    background: rgba(0,0,0,.5);
			    opacity: 1;
				color: #fff;
			}
			.swiper-pagination-bullet-active {
			    opacity: 1;
			    background: #FF0000 !important;
			}
			.swiper-slide {
			    width: 100% !important;
			}
		</style>
	</head>
	<body style="background: #fff;">
		<div id="app" v-cloak>
			<div class="top" v-show="isFull == false">
				<div class="control1">
					<a href="javascript:history.back(-1)"><i class="fa fa-mail-reply" aria-hidden="true"></i>返回&nbsp;&nbsp;|&nbsp;</a>
					<a href="javascript:window.location='app.html';"><i class="fa fa-home" aria-hidden="true"></i>首页</a>
				</div>
				<div class="showtitle">{{title}}</div>
			</div>
			<div class="imgSwiperWrap" :class="isFull == true?'fullWrap':''">
				<div class="imgSwiperList">
					<div class="imgSwiper swiper-container">
						<div class="swiper-wrapper">
							<div class="swiper-slide" v-for="item in sameList">
								<img style="height: 100%;width: 100%;object-fit: fill;" :src="item.img||item.sz_img" >
							</div>
						</div>
					</div>
				</div>
				<div class="fullSreenbtn swiper-pagination"></div>
				<div class="fullSreenbtn1" v-show="isFull == false" @click="isFull = true">
					<i class="fa fa-arrows-alt" aria-hidden="true"></i>
				</div>
				<div class="fullSreenbtn1" v-show="isFull == true" @click="isFull = false">
					<i class="fa fa-compress" aria-hidden="true"></i>
				</div>
			</div>
		</div>
		<script src="lib/jquery/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/ajax.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/vue.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="lib/swiper/js/swiper.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			window.onload = function(){
				var app = new Vue({
					el:"#app",
					data:{
						id:"",
						title:"",
						dataImg:"statics/images/loading.gif",
						sameList:[],
						isFull:false,
						data:{
							id:"",
							flag:''
						}
					},
					methods:{
						// 资源详情
						detail(){
							var that = this;
							postData("resouceDetail",that.data,function(res){
								if(res.code == 200){
									that.title = res.data.title;
									that.sameList = res.data.resouce
									setTimeout(function(){
										var swiper = new Swiper('.swiper-container',{
											pagination: {
												el: '.swiper-pagination',
												clickable: true,
												renderBullet: function (index, className) {
													return '<span class="' + className + '">' + (index + 1) + '</span>';
												},
											},
											observer:true,//修改swiper自己或子元素时，自动初始化swiper
											observeParents:true,//修改swiper的父元素时，自动初始化swiper
										})
									},300)
								}
							})
						},
					},
					created() {
						var that = this;
						that.data.id = getUrlParam('id');
						that.data.flag = getUrlParam('flag');
						that.detail();
					}
				})
			}
		</script>
	</body>
</html>
